<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>드롭다운</title>
    <link type="text/css" href="../../assets/css/import.css" rel="stylesheet" />
    <link type="text/css" href="../../assets/css/simplebar.css" rel="stylesheet" />
    <script src="../../assets/js/jquery-2.2.4.js"></script>
    <script src="../../assets/js/jquery-ui.js"></script>

    <script src="../../assets/js/simplebar.min.js"></script>
  </head>
  <body>
    <div id="contentsBody" class="contents">
      <div class="cotegoryView">
        <div class="mdu_pannel mdu_pannel_form scroll_area">
          <div class="pannel_header">
            <h2 class="tit">드롭다운</h2>
            <div class="util">
              <button class="btn _bdno _ico_ly">
                <i class="ico _pannelRefresh"></i>
                <span class="txt">리셋</span>
              </button>
              <button class="btn _bdno _ico_ly">
                <i class="ico _pannelClose"></i>
                <span class="txt">닫기</span>
              </button>
            </div>
          </div>
          <div class="pannel_body">
            <div class="item_group">
              <div class="item">
                <div class="_comp comp_textarea _wide">
                  <span class="_tit">질문입력</span>
                  <div class="_body _comp_textareaWrap">
                    <textarea class="comm_input" placeholder="에디터가 들어갑니다"></textarea>
                  </div>
                </div>
              </div>

              <div class="item">
                <div class="_comp _wide">
                  <span class="_tit">이미지</span>
                  <div class="_body">
                    <div class="comp_answerAddWrap">
                      <div class="_answerAddItemOuter">
                        <div class="_answerAddItem _tpMedia">
                          <div class="_inp_wrap _f1">
                            <div class="_image"></div>
                            <div class="_filed">
                              <div class="_filedInp">
                                <input type="text" class="comm_input _tp_txt" placeholder="내용을 입력하세요." />
                              </div>
                              <button class="btn _bdno btn_primary wide">
                                <span class="txt">이미지 삽입</span>
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="item">
                <div class="_comp _wide">
                  <span class="_tit">답변설정</span>
                  <div class="_body">
                    <div class="comp_answerAddWrap">
                      <div class="_answerAddItemOuter" id="answerAddItemOuter">
                        <div class="_answerAddItem">
                          <div class="_handle">드래그로 순서변경</div>
                          <div class="_inp_wrap">
                            <input type="text" class="comm_input _tp_txt" placeholder="ID를 입력하세요1." />
                            <input type="text" class="comm_input _tp_num" placeholder="" value="1" />
                          </div>
                          <div class="_btn_g">
                            <div class="_col_l">
                              <button class="btn _bdno _ico_ly">
                                <i class="ico _addItem"></i>
                                <span class="txt">추가</span>
                              </button>
                            </div>
                            <div class="_col_r">
                              <button class="btn _bdno _ico_ly">
                                <i class="ico _delItem"></i>
                                <span class="txt">삭제</span>
                              </button>
                            </div>
                          </div>
                        </div>
                        <div class="_answerAddItem">
                          <div class="_handle">드래그로 순서변경</div>
                          <div class="_inp_wrap">
                            <input type="text" class="comm_input _tp_txt" placeholder="ID를 입." />
                            <input type="text" class="comm_input _tp_num" placeholder="" value="1" />
                          </div>
                          <div class="_btn_g">
                            <div class="_col_l">
                              <button class="btn _bdno _ico_ly">
                                <i class="ico _addItem"></i>
                                <span class="txt">추가</span>
                              </button>
                            </div>
                            <div class="_col_r">
                              <button class="btn _bdno _ico_ly">
                                <i class="ico _delItem"></i>
                                <span class="txt">삭제</span>
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <script>
                      let itemMoveChang = [];
                      let itemObj = [1, 2, 3, 4, 5];

                      function switchValues(arr, index1, index2) {
                        [arr[index1], arr[index2]] = [arr[index2], arr[index1]];
                      }

                      $("#answerAddItemOuter").sortable({
                        handle: "._handle",
                        cursor: "move",
                        axis: "y",
                        //containment: ".comp_answerAddWrap",
                        containment: "parent",
                        placeholder: "_answerAddItemPlaceholder",
                        start: function (event, ui) {
                          let thisHeight = ui.item[0].style.height;
                          let placeholderDiv = ui.placeholder[0];
                          //placeholderDiv.style.height = thisHeight;
                          itemMoveChang.push(ui.item.index());
                          console.log("@@@start", event, ui, ui.item.index(), itemMoveChang);
                        },
                        stop: function (event, ui) {
                          //console.log(ui.item.html());
                          //ui.placeholder.html(ui.item.html());
                          itemMoveChang = [];
                          // switchValues(itemObj, itemMoveChang[0], itemMoveChang[1]);
                          console.log("@@@stop", event, ui, ui.item.index(), itemMoveChang, itemObj);
                        },
                        update: function (event, ui) {
                          //console.log(ui.item.html());
                          //ui.placeholder.html(ui.item.html());
                          itemMoveChang.push(ui.item.index());
                          switchValues(itemObj, itemMoveChang[0], itemMoveChang[1]);
                          console.log("@@@update", event, ui, ui.item.index(), itemMoveChang, itemObj);
                        },
                      });
                    </script>

                    <div class="_cr_listWrap mgt10">
                      <div class="_cr_item">
                        <span class="check_b_wrap">
                          <input type="checkbox" class="chk" name="1" />
                          <span class="ico"></span>
                          <span>보기 무작위 배열</span>
                        </span>
                      </div>
                      <div class="_cr_item">
                        <span class="check_b_wrap">
                          <input type="checkbox" class="chk" name="1" />
                          <span class="ico"></span>
                          <span>보기 점수배열</span>
                        </span>
                      </div>
                      <div class="_cr_item">
                        <span class="check_b_wrap">
                          <input type="checkbox" class="chk" name="1" />
                          <span class="ico"></span>
                          <span>기타항목사용</span>
                        </span>
                        <div class="_cr_itemChild">
                          <div class="_cr_listWrap">
                            <div class="_cr_item">
                              <span class="check_b_wrap">
                                <input type="checkbox" class="chk" name="1" />
                                <span class="ico"></span>
                                <span>의견입력필수</span>
                              </span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="item">
                <div class="_comp _wide">
                  <span class="_tit">옵션</span>
                  <div class="_body">
                    <div class="_cr_listWrap">
                      <div class="_cr_item">
                        <span class="check_b_wrap">
                          <input type="checkbox" class="chk" name="1" />
                          <span class="ico"></span>
                          <span>답변필수</span>
                        </span>
                      </div>
                      <div class="_cr_item">
                        <span class="check_b_wrap">
                          <input type="checkbox" class="chk" name="1" />
                          <span class="ico"></span>
                          <span>결과비공개</span>
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="contentArea scrollbar-outer">
        <div class="view_round _tp_style" style="width: 560px">
          <div class="view_round_header">
            <h2 class="tit">설문 ID 영역</h2>
          </div>
          <div class="view_round_body">
            <div class="pollSubject">설문제목 텍스트 영역</div>

            <div class="comp_outer">
              <div class="comp_rangeSliderWrap">
                <div class="_rangeSliderOuter">
                  <div class="_rangeSlider" id="sliderTarget">
                    <div class="_rangeSlider_handle" id="rangeSlider_handle"></div>
                  </div>
                </div>
                <script>
                  $(function () {
                    var handle = $("#rangeSlider_handle");
                    // console.log(handleRail);
                    $("#sliderTarget").slider({
                      create: function () {
                        //handle.text($(this).slider("value"));
                        handle.next().text($(this).slider("value"));
                      },
                      slide: function (event, ui) {
                        //handle.text(ui.value);
                        handle.css("width", ui.value + "%");
                        handle.next().text(ui.value);
                      },
                    });
                  });
                </script>
                <div class="_extra_area">
                  <button class="btn _bdno _ico_ly wide">
                    <i class="ico _add"></i>
                    <span class="txt">추가</span>
                  </button>
                </div>
              </div>
            </div>

            <div class="comp_outer">
              <div class="comp_textTyppingArea">
                <h2 class="_tit">설문정보 텍스트 영역</h2>
                <div class="_typping">설문정보 내용 영역</div>
              </div>
              <div class="_extra_area">
                <button class="btn _bdno _ico_ly wide">
                  <i class="ico _add"></i>
                  <span class="txt">추가</span>
                </button>
              </div>
            </div>

            <div class="comp_outer">
              <div class="comp_questArea _tp_full">
                <h2 class="_tit">설문정보 텍스트 영역</h2>

                <!--S: 제목 영역 -->
                <div class="_typping">설문정보 내용 영역</div>
                <!--E: 제목 영역 -->

                <!--S: 이미지 영역 -->
                <div class="_imgArea"></div>
                <!--E: 이미지 영역 -->

                <!--S: 드롭다운 영역 -->
                <div class="_dropDownArea">
                  <div class="_dropDownHeader"><span class="_txt">답변 텍스트 영역</span><span class="_arrow"></span></div>
                  <div class="_dropDownBody">
                    <div class="_dropDownItem">답변 텍스트 영역</div>
                    <div class="_dropDownItem">답변 텍스트 영역</div>
                    <div class="_dropDownItem">답변 텍스트 영역</div>
                  </div>
                </div>
                <!--E: 드롭다운 영역 -->

                <span class="_label _status _edit">편집중</span>
                <div class="_actions">
                  <button class="btn _bdno _ico_ly">
                    <i class="ico _questReplay_w"></i>
                    <span class="txt">초기화</span>
                  </button>

                  <button class="btn _bdno _ico_ly">
                    <i class="ico _questCopy_w"></i>
                    <span class="txt">복사</span>
                  </button>

                  <button class="btn _bdno _ico_ly">
                    <i class="ico _questDel_w"></i>
                    <span class="txt">삭제</span>
                  </button>
                </div>
              </div>
              <div class="_extra_area">
                <button class="btn _bdno _ico_ly wide">
                  <i class="ico _add"></i>
                  <span class="txt">추가</span>
                </button>
              </div>
            </div>
          </div>

          <div class="view_round_btm">
            <div class="_col_l">
              <button class="btn btn_primary btn_rud100 btn_lager btn_fix _bdno _ico_ly">
                <i class="ico _more_w"></i>
                <span class="txt">더보기</span>
              </button>
            </div>
            <div class="_col_r">
              <button class="btn btn_primary btn_rud30 btn_lager _bdno tp_next">
                <span class="txt">NEXT</span>
                <i class="ico _next01_w"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="../../assets/js/commjs.js"></script>
    <script src="../../assets/js/modal.js"></script>
    <script src="../../assets/js/popup.js"></script>
    <script src="../../assets/js/loading.js"></script>
    <script src="../../assets/js/dropDown.js"></script>

    <script>
      $("#popAlert").on("click", function () {
        ModalOpen("firstPopup", "안내", "<span class='f_main'>KJCI3718UID09</span> 는 사용가능 ID입니다.", "alert", "", okClickFnc, {
          //style: "font-size:60px;",
          class: "ac",
        });
      });

      let okClickFnc = (e) => {
        ModalClose(e.target);
        console.log("외부=okClickFnc----", e, e.target);
      };
    </script>
  </body>
</html>
